<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.9.0 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>Google Analytics with Google Tag Manager  MXK Software Craftmanship</title>




<meta name="description" content="Google Analytics">




<meta name="author" content="Martin Kelly">

<meta property="og:locale" content="en_gb">
<meta property="og:site_name" content="MXK Software Craftmanship">
<meta property="og:title" content="Google Analytics with Google Tag Manager">


  <link rel="canonical" href="https://m-x-k.github.io//analytics/gtm/google-anaytics/">
  <meta property="og:url" content="https://m-x-k.github.io//analytics/gtm/google-anaytics/">



  <meta property="og:description" content="Google Analytics">





















  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2017-03-05T11:00:00+00:00">














<!-- end SEO -->


<link href="https://m-x-k.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="MXK Software Craftmanship Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://m-x-k.github.io/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="https://m-x-k.github.io/">MXK Software Craftmanship</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="https://m-x-k.github.io//recent-posts/" >Recent Posts</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://m-x-k.github.io//year-archive/" >Posts</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://m-x-k.github.io//categories/" >Categories</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://m-x-k.github.io//tags/" >Tags</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://m-x-k.github.io//about/" >About</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://mxk.solutions" >External Link</a>
            </li>
          
        </ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    <div class="initial-content">
      <link rel="stylesheet" href="/assets/css/custom.css">




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="https://m-x-k.github.io//" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="https://m-x-k.github.io/categories/analytics" itemprop="item"><span itemprop="name">Analytics</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="https://m-x-k.github.io/categories/gtm" itemprop="item"><span itemprop="name">Gtm</span></a>
          <meta itemprop="position" content="3" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Google Analytics with Google Tag Manager</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  

  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Google Analytics with Google Tag Manager">
    <meta itemprop="description" content="Google Analytics">
    <meta itemprop="datePublished" content="March 05, 2017">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Google Analytics with Google Tag Manager
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <h2 id="google-analytics">Google Analytics</h2>

<p>If you want to track user behaviour on your websites Google Analytics combined with Google Tag Manager is an ideal solution with a simple setup process.</p>

<p>First up go to the main <a href="https://analytics.google.com/analytics/">Google Analytics website</a> and signup to create yourself a new account for your website. This should provide you with a tracking id of the form <code class="highlighter-rouge">UA-XXXXXXXXX-X</code>.</p>

<h4 id="adding-google-tag-manager-to-your-website">Adding Google Tag Manager to your website</h4>

<p>After setting up your Google Analytics account and logging in you should get a html snippet which you can embed into your website like:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!--</span> <span class="nx">Global</span> <span class="nx">site</span> <span class="nx">tag</span> <span class="p">(</span><span class="nx">gtag</span><span class="p">.</span><span class="nx">js</span><span class="p">)</span> <span class="o">-</span> <span class="nx">Google</span> <span class="nx">Analytics</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="nx">script</span> <span class="k">async</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXXX-X"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="kd">function</span> <span class="nx">gtag</span><span class="p">(){</span><span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="kr">arguments</span><span class="p">);}</span>
  <span class="nx">gtag</span><span class="p">(</span><span class="s1">'js'</span><span class="p">,</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">());</span>
  <span class="nx">gtag</span><span class="p">(</span><span class="s1">'config'</span><span class="p">,</span> <span class="s1">'UA-XXXXXXXXX-X'</span><span class="p">);</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre></div></div>

<p>Ideally you would place the above snippet on each page in your application. If you have designed your website using layout templates you should be able to add this to the bottom of the page inside the body element.</p>

<h4 id="testing-it-all-works">Testing it all works</h4>

<p>Before you upload your website with the new Google Tag Manager support you might like to check that it is indeed loading and registering the tag with google correctly. This is where you can use the chrome browser plugin <code class="highlighter-rouge">GA debugger</code>. If you install the plugin and enable it with the icon at the top right of the chrome window and refresh your website page you should be able to see output in the chrome developer tools console window which should contain the following ascii banner:</p>
<pre><code class="language-asciidoc">                         _                          _       _   _
                        | |                        | |     | | (_)
  __ _  ___   ___   __ _| | ___    __ _ _ __   __ _| |_   _| |_ _  ___ ___
 / _` |/ _ \ / _ \ / _` | |/ _ \  / _` | '_ \ / _` | | | | | __| |/ __/ __|
| (_| | (_) | (_) | (_| | |  __/ | (_| | | | | (_| | | |_| | |_| | (__\__ \
 \__, |\___/ \___/ \__, |_|\___|  \__,_|_| |_|\__,_|_|\__, |\__|_|\___|___/
  __/ |             __/ |                              __/ |
 |___/             |___/                              |___/
</code></pre>

<p>You can trigger custom Google Tag Manager events via the chrome developer tools console window by typing a command like the following:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="s1">'event'</span><span class="p">:</span> <span class="s1">'event_name'</span><span class="p">});</span>
</code></pre></div></div>

<p>You can query the events currently submitted in the chrome developer tools console window by typing the following and examining the output:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">dataLayer</span>
</code></pre></div></div>

<p>The dataLayer is periodically submitted by GTM between page submissions. If you are using a single page application with javascript frameworks such as Angular or ReactJS you will need to investigate what plugins you can use in order to capture events such as clicking links etc … Unfortunately these frameworks will use anchor tags (e.g. #) in the url in order to prevent the page from being reloaded.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="https://m-x-k.github.io/tags/googleanalytics" class="page__taxonomy-item" rel="tag">GoogleAnalytics</a><span class="sep">, </span>
    
      
      
      <a href="https://m-x-k.github.io/tags/googletagmanager" class="page__taxonomy-item" rel="tag">GoogleTagManager</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="https://m-x-k.github.io/categories/analytics" class="page__taxonomy-item" rel="tag">Analytics</a><span class="sep">, </span>
    
      
      
      <a href="https://m-x-k.github.io/categories/gtm" class="page__taxonomy-item" rel="tag">GTM</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-03-05T11:00:00+00:00">March 05, 2017</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="https://m-x-k.github.io/docker/primer-on-docker/" class="pagination--pager" title="Primer on Docker
">Previous</a>
    
    
      <a href="https://m-x-k.github.io/kubernetes/Introduction-to-kubernetes/" class="pagination--pager" title="Introduction to Kubernetes
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
  <input type="text" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  <div id="results" class="results"></div>
</div>
      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
    
    
    
      <li><a href="https://github.com/m-x-k"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="https://m-x-k.github.io/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2018 MXK Software Craftmanship. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="https://m-x-k.github.io/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.2/js/all.js"></script>



  
  
  <script defer src="https://m-x-k.github.io/assets/js/lunr/lunr.min.js"></script>
  <script defer src="https://m-x-k.github.io/assets/js/lunr/lunr-store.js"></script>
  <script defer src="https://m-x-k.github.io/assets/js/lunr/lunr-en.js"></script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111584934-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-111584934-1');
</script>




  </body>
</html>